qpoint

A lightweight pointing library for SPIDER.

Requirements:

* libchealpix (tested with version 3.20; older versions should work)
* libcfitsio (not actually used here, but required by chealpix)
* gfortran, for SLALIB version of atmospheric refraction function
  (falls back to SOFA version without this)


Installation:

for C library:

    make qpoint
    sudo make install-qpoint

for python bindings:

    make python
    sudo make install-python

for both C and python:

    make
    sudo make install

to install to a per-user directory:

    make
    make install-user
    (or install-qpoint-user or install-python-user, as above)

to install to a specific prefix (the directory that will contain the lib/
subfolder, and the include/ subfolder in installing the C library):

    make
    sudo make PREFIX=/your/install/prefix install
    (or use the install-qpoint or install-python targets, as above)

Updating (assuming qpoint was obtained via git):

    git pull --rebase
    make
    sudo make install
    (or other install command, as above)

NB: if the above fails due to a missing chealpix or cfitsio library,
try setting the following environment variables for both healpix and cfitsio:

    # healpix build path
    HEALPIX=/path/to/Healpix_x.xx

    # flag for external cfitsio library
    EXTERNAL_CFITSIO=yes

    # set the install prefix... typically /usr/local
    CFITSIO_EXT_PREFIX=/path/to/prefix

    # ... or set the lib and include paths directly
    CFITSIO_EXT_LIB=/path/to/libcfitsio.a
    # directory containing fitsio.h
    CFITSIO_EXT_INC=/path/to/include


Usage:

see example c and python code


TODO:

1. use CBLAS for speedup?
2. expose all the other C functions in the python API?
3. add HWP-enabled versions of functions
